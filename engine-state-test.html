<script type="module">
  import { VerseCraftEngine } from './core/engine.js';

  const output = document.getElementById('output');

  function log(msg) {
    output.innerHTML += msg + '<br>';
    output.scrollTop = output.scrollHeight;
    console.log(msg);
  }

  // Pass the log function into the engine
  const engine = new VerseCraftEngine(log);
  log(`ðŸ§  Engine ${engine.version} loaded`);

  document.getElementById('startBtn').onclick = () => { engine.start(); log("â–¶ï¸ Start pressed"); };
  document.getElementById('stopBtn').onclick  = () => { engine.stop(); log("â¹ Stop pressed"); };
  document.getElementById('resetBtn').onclick = () => { engine.reset(); log("ðŸ”„ Reset pressed"); };
</script>
